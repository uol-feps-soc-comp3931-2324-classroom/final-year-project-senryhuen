[![Open in Codespaces](https://classroom.github.com/assets/launch-codespace-7f7980b617ed060a017424585567c406b6ee15c891e84e1186181d67ecf80aa0.svg)](https://classroom.github.com/open-in-codespaces?assignment_repo_id=12928530)


# CLI commands (use '--help' flag for details about usage)
1. audio2spec.py
    - Convert an audio file to a spectrogram image.
2. spec2audio.py
    - Reconstruct audio from a spectrogram image (as generated by audio2spec).
3. eval_audio.py
    - Evaluate reconstructed audio against the original audio file.
4. eval_spec.py
    - Evaluate the spectrogram of the reconstructed audio against the original spectrogram that was reconstructed.

Example:
```
python audio2spec.py --help
```

Example generating spectrogram:
```
python audio2spec.py demo/133028mono.mp3 demo/133028mono.tiff
```

Example reconstructing audio from spectrogram image:
```
python spec2audio.py demo/133028mono.tiff demo/133028-tiffrecon.flac 44100 -rmse -snr -it 300
```
\
The original and reconstructed audio is shown below. Due to GitHub not having support for audio files, the audio is muxed into a video container (lossless) with the spectrogram as the cover.

Original audio with spectrogram as cover:

https://github.com/uol-feps-soc-comp3931-2324-classroom/final-year-project-senryhuen/assets/86577167/d2ff207d-c595-4f62-895a-df615ac7e473

Reconstructed audio with spectrogram as cover:

https://github.com/uol-feps-soc-comp3931-2324-classroom/final-year-project-senryhuen/assets/86577167/248b6cfe-821b-42ca-9ee1-d9da5f50b5e9

Evaluation of reconstructed audio:
- RMSE: 0.0017583861481398344
- SNR: 21.24138832092285

The original audio clip was taken from the [Free Music Archive (FMA) dataset](https://github.com/mdeff/fma).

# Other scripts
1. preprocess_dataset.py
    - Processes audio files in preparation for use in a dataset (splits into fixed length clips and sorts by type (speech or music) and sample rate, generates attributes csv).
2. degli_train.py
    - Trains DNN for Deep Griffin-Lim method (which is in the spectrograminversion package).
3. evaluation.py
    - Runs evaluation tests on Griffin-Lim and Deep Griffin-Lim, saves results to "evaluationdata/evaluation.csv", then generates graphs presenting results.


# Run unittests
```
python -m unittest
```
